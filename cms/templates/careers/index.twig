{% extends "_layouts/generic-page-layout.twig" %}

{% set pageBackground = pageBackground|default('linen') %}
{% set navigationColor = navigationColor|default('blue') %}
{% set storyCategories = craft.categories.group('stories').level(1).all() %}

{% block headMeta %}
    {% if entry.pageDescription|length %}
        <meta name="description" content={{ entry.pageDescription }}>
    {% endif %}
{% endblock %}

{% block headLinks %}
    {{ parent() }}
{% endblock headLinks %}

{% block contentborderless %}

    <div class="edge-x relative h-[32rem] md:h-[40rem] lg:h-[50rem] xl:h-[60rem] bg-top bg-cover" style="background-image: url('{{ entry.careersHeroImage.one().getUrl() }}');">
        <div class="pt-24 sm:pt-28 lg:pt-40 relative">
            <h2 class="header-one">Careers <span class="tracking-overlap hidden sm:inline">–––––––––</span></h2>
        </div>
    </div>

    <div class="edge">
        <div class="max-w-screen-2xl mx-auto">
            <div class="flex">
                <div class="w-1/2 pr-8">
                    <div class="redactor text-2xl sm:text-3xl lg:text-4xl font-bold">
                        {{ entry.careersHeroText }}
                    </div>
                    <div class="redactor pt-10 text-lg sm:text-xl">
                        {{ entry.careersInfoText }}
                    </div>
                </div>
                <div class="w-1/2 pl-8">
                    {% if craft.entries.section('jobOpenings').all()|length > 0 %}
                        <div class="w-full">
                            {% for job in craft.entries.section('jobOpenings').all() %}
                                <div class="w-full pb-10">
                                    <h2 class="text-2xl font-bold pb-4">{{ job.jobTitle }}</h2>
                                    <div class="text-xl redactor">
                                        {{ job.jobShortDescription }}
                                    </div>
                                    <a href="{{ job.url }}">
                                        <div class="text-xl underline">
                                            Learn more →
                                        </div>
                                    </a>
                                    
                                </div>
                            {% endfor %}
                        </div>
                    {% else %}  
                        <div class="flex items-center justify-center w-full h-full">
                            <h2 class="text-xl font-bold">No openings</h2>
                        </div>
                    {% endif %}
                </div>
            </div>
        
        </div>

        
    </div>

    <div class="edge bg-red">
        <div class="max-w-screen-2xl mx-auto">
            
        </div>
    </div>
    
{% endblock %}

{# -- Any JavaScript that should be included before </body> -- #}
{% block bodyJs %}
    {{ parent() }}
{% endblock bodyJs %}
